---
# ==============================================================================
# üåç DOMAIN & INFRASTRUCTURE
# ==============================================================================
base_domain: "ziix.ru"

# === USERS ===
deploy_user: "deploy"
admin_username: "admin"
# Credentials from Vault
admin_email: "{{ vault_infra.admin_email }}"
admin_password: "{{ vault_infra.admin_password }}"

# ==============================================================================
# ‚öôÔ∏è SYSTEM & DOCKER
# ==============================================================================
docker_base_dir: "/srv/docker"
docker_network_name: "web"
docker_restart_policy: "unless-stopped"

# [ Defaults ]
docker_image_tag: "latest"
docker_memory_limit: "256M"
docker_timezone: "Europe/Moscow"

# [ User Permissions (LSIO style) ]
docker_puid: "1000"
docker_pgid: "1000"

# [ Healthcheck Strategy ]
docker_hc_interval: "60s"
docker_hc_timeout: "10s"
docker_hc_retries: 3
docker_hc_start_period: "10s"

# ==============================================================================
# üõ°Ô∏è GLOBAL FEATURE FLAGS (System-wide)
# ==============================================================================
# –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ Docker API (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: true)
use_socket_proxy: true

# –≠–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤: Scale-to-Zero (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: true)
use_sablier: true

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–µ—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: true)
use_autoheal: true

# ==============================================================================
# üìã SERVICES MENU (–°—Ç–æ–ª –∑–∞–∫–∞–∑–æ–≤)
# true = Install & Run | false = Skip
# ==============================================================================

# --- Core Infrastructure ---
caddy_enabled: true       # Ingress Controller (Web Server)
use_cloudflare_dns: true # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–∏ Cloudflare Wildcard
crowdsec_enabled: true    # <--- –î–û–ë–ê–í–õ–ï–ù–û: CrowdSec (IPS/IDS)

identity_enabled: true    # Auth (LLDAP, PocketID, TinyAuth)

# --- Management & Monitoring ---
homer_enabled: true    # Dashboard (Homer)
dozzle_enabled: true      # Logs Viewer
beszel_enabled: true      # Lightweight Monitoring
watchtower_enabled: true
gatus_enabled: true

# --- Applications ---
vaultwarden_enabled: true # Password Manager
hugo_enabled: true        # Static Site / Blog
syncthing_enabled: true  # P2P File Sync (–û—Ç–∫–ª—é—á–µ–Ω–æ –ø–æ–∫–∞)

# --- Communications ---
tuwunel_enabled: true     # Matrix Homeserver + LiveKit
matrix_domain: "matrix.{{ base_domain }}"
tuwunel_livekit_enabled: true

# --- Maintenance ---
restic_enabled: true     # Backup System (–û—Ç–∫–ª—é—á–µ–Ω–æ –ø–æ–∫–∞)

# ==============================================================================
# üîß TUNING & RESOURCES
# ==============================================================================
swap_file_size: "4G"
zram_percentage: "25"

turn_relay_port_start: 49152
turn_relay_port_end: 49200
