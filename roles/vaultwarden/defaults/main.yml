---
vaultwarden:
  service: "vaultwarden"

  # Image + Tag
  image: "vaultwarden/server:latest"

  path: "{{ docker.base_dir }}/vaultwarden"

  # Domain (Dynamic)
  domain: "vault.{{ domain.base }}"

  # Ports (Internal)
  port: 80

  # App Configuration
  config:
    signups_allowed: false       # Safer default for production
    invitations_allowed: true
    show_password_hint: false
    websocket_enabled: true
    log_level: "info"

  # Secrets (From Vault)
  admin_token: "{{ vault_vaultwarden.admin_token | default('') }}"

  # Resources (Inherit global default)
  memory: "{{ docker.memory }}"

  # Integrations
  autoheal: true

  # Healthcheck
  healthcheck:
    interval: "30s"
    timeout: "10s"
    retries: 3
    start_period: "20s"
