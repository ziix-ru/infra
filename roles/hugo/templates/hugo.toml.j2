baseURL = "{{ hugo_base_url }}"
title = "{{ hugo_title }}"
theme = "{{ hugo_theme }}"
languageCode = "ru-ru" # Поменял на RU, раз блог русский
defaultContentLanguage = "ru"

publishDir = "/dest"
canonifyURLs = false

enableEmoji = true
enableGitInfo = true

[pagination]
  pagerSize = 10

[outputs]
  # JSON нужен для поиска (Fuse.js)
  home = ["HTML", "RSS", "JSON"]

[sitemap]
  changefreq = "weekly"
  filename = "sitemap.xml"
  priority = 0.5

[imaging]
  resampleFilter = "CatmullRom"
  quality = 85

[caches]
  [caches.getjson]
    maxAge = "1h"

[markup]
  [markup.highlight]
    codeFences = true
    lineNos = false
    lineNumbersInTable = true
    style = "monokai"

  [markup.goldmark]
    [markup.goldmark.renderer]
      unsafe = true

[menu]
  [[menu.main]]
    name = "Главная"
    url = "/"
    weight = 1

  [[menu.main]]
    name = "Посты"
    url = "/posts/"
    weight = 2

  [[menu.main]]
    name = "Теги"
    url = "/tags/"
    weight = 3
    
  # Если создашь страницу archives.md, раскомментируй
  # [[menu.main]]
  #   name = "Архив"
  #   url = "/archives/"
  #   weight = 4
  
  # Если создашь страницу search.md, раскомментируй (или поиск будет по иконке)
  # [[menu.main]]
  #   name = "Поиск"
  #   url = "/search/"
  #   weight = 5

[params]
  description = "{{ hugo_description }}"
  author = "{{ hugo_author }}"
  dateFormat = "02.01.2006" # Формат даты более привычный для РФ
  defaultTheme = "auto" # Авто-тема (темная/светлая) как в системе

  # --- PaperMod UX settings ---
  ShowReadingTime = true
  ShowShareButtons = true
  ShowPostNavLinks = true
  ShowBreadCrumbs = true
  ShowCodeCopyButtons = true
  ShowWordCount = true
  ShowRssButtonInSectionTermList = true
  
  # --- Оглавление (ToC) ---
  ShowToc = true
  TocOpen = true
  
  # --- Поиск (Search) ---
  ShowSearch = true

  # --- Кнопка "Редактировать на GitHub" ---
  # Убедись, что путь '/content' верный. Если файлы лежат в корне, убери '/content'
  editPost = { URL = "https://github.com/ziix-ru/blog/edit/main/content", Text = "Редактировать на GitHub", appendFilePath = true }

  disableSpecial1stPost = false
  disableScrollToTop = false
  hidemeta = false
  hideSummary = false
  
  # --- Комментарии (Включаем глобально) ---
  comments = true

  [params.homeInfoParams]
    Title = "Добро пожаловать в {{ hugo_title }}"
    Content = "{{ hugo_description }}"

  # --- Конфиг Giscus ---
  [params.comments]
    provider = "giscus"

    [params.comments.giscus]
      repo = "ziix-ru/blog"
      repoId = "R_kgDOQkPaEw"
      category = "General"
      categoryId = "DIC_kwDOQkPaE84Czj8a"
      mapping = "pathname"
      reactionsEnabled = "1"
      emitMetadata = "0"
      inputPosition = "bottom"
      theme = "preferred_color_scheme"
      lang = "ru"
      loading = "lazy"

{% if hugo_social_github %}
  [[params.socialIcons]]
    name = "github"
    url = "{{ hugo_social_github }}"
{% endif %}

{% if hugo_social_telegram %}
  [[params.socialIcons]]
    name = "telegram"
    url = "{{ hugo_social_telegram }}"
{% endif %}

{% if hugo_social_email %}
  [[params.socialIcons]]
    name = "email"
    url = "mailto:{{ hugo_social_email }}"
{% endif %}

  [[params.socialIcons]]
    name = "rss"
    url = "/index.xml"
