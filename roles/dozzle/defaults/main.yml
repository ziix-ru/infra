---
dozzle:
  service: "dozzle"

  # Image + Tag
  image: "amir20/dozzle:v8.13.14" # Pinned version is good for stability

  path: "{{ docker.base_dir }}/dozzle"

  # Domain
  domain: "logs.{{ domain.base }}"
  port: 8080

  # Config
  config:
    no_analytics: true
    enable_actions: false
    enable_shell: false

  # Auth (SSO Headers)
  auth:
    enabled: true
    header_user: "Remote-User"
    header_email: "Remote-Email"
    header_name: "Remote-Name"

  # Integrations
  socket_proxy: "{{ enable.socket_proxy | default(false) }}"
  autoheal: true

  # Sablier (Scale to Zero)
  sablier:
    enabled: "{{ enable.sablier | default(false) }}"
    window: "5m"
    group: "dozzle"
    display_name: "Dozzle Logs"
    theme: "ghost"

  # Resources
  memory: "128M"

  # Healthcheck
  healthcheck:
    interval: "30s"
    timeout: "5s"
    retries: 3
    start_period: "30s"
